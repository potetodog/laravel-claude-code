# PR作成コマンド

GitHub CLIを使用してプルリクエストを作成します。

## 許可ツール

Bash, Read, AskUserQuestion

## 手順

### 1. 前提条件の確認

1. `gh` CLIがインストールされているか確認
2. 現在のブランチがリモートにプッシュされているか確認
   - プッシュされていなければ `git push -u origin <branch>` を実行

### 2. 変更内容の収集

1. developブランチからの差分コミットを取得: `git log develop..HEAD --oneline`
2. 変更ファイル一覧を取得: `git diff develop --name-only`
3. 差分の概要を確認: `git diff develop --stat`

### 3. PR内容の生成

以下のテンプレートに従ってPR内容を生成:

```markdown
### 内容

(1-2文で変更の概要を簡潔に記載)

### 原因・理由

(1-2文で背景・動機を簡潔に記載)

### 修正

(変更点を箇条書きで記載)

### 確認

(レビュー担当者向けの動作確認チェックリストを `- [ ]` 形式で記載)

### 備考

(必要な場合のみ記載。なければこのセクションは省略)
```

### 4. ユーザー確認

AskUserQuestionを使用して、以下の形式でプレビューを表示:

```
## PR プレビュー

**タイトル**: <生成したタイトル>

**ベースブランチ**: develop

**説明**:
<生成した説明>

---
この内容でPRを作成してよいですか？
```

選択肢:
- 「作成する」: PRを作成
- 「タイトルを変更」: タイトルのみ修正
- 「キャンセル」: 作成中止

### 5. PR作成

ユーザーが承認したら:

```bash
gh pr create --base develop --title "<タイトル>" --body "<説明>"
```

作成後、PRのURLを表示して完了。

## 注意事項

- PRタイトルは70文字以内に収める
- 説明は簡潔に、各セクション1-2文程度
- 確認セクションは必ずチェックリスト形式 (`- [ ]`) で記載
- 備考セクションは必要な場合のみ（関連PRやレビュー時の注意点など）
